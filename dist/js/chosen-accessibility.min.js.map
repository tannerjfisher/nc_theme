{"version":3,"file":"dist/js/chosen-accessibility.min.js","mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,UAAUA,MAAM,EAAE;EACjB,YAAY;;EAEZ;EACAA,MAAM,CAACC,SAAS,CAACC,oBAAoB,GAAG;IACtCC,MAAM,EAAE,SAAAA,CAAUC,OAAO,EAAE;MAEzB;MACA,IAAIA,OAAO,KAAKC,QAAQ,EAAE;QACxB;MACF;MAEAC,UAAU,CAAC,MAAM;QACfC,iBAAiB,CAAC,CAAC;MACrB,CAAC,EAAE,IAAI,CAAC;;MAER;AACN;AACA;MACM,MAAMA,iBAAiB,GAAGA,CAAA,KAAM;QAC9B,IAAIC,cAAc;QAClB,IAAIC,YAAY,GAAGC,IAAI,CAAC,sBAAsB,EAAEL,QAAQ,CAACM,gBAAgB,CAAC,sBAAsB,CAAC,EAAEP,OAAO,CAAC;QAC3G,IAAIQ,WAAW,GAAGP,QAAQ,CAACQ,aAAa,CAAC,MAAM,CAAC,CAACC,SAAS;QAE1D,IAAIF,WAAW,CAACG,QAAQ,CAAC,SAAS,CAAC,EAAE;UACnCP,cAAc,GAAG,WAAW,CAAC,CAAC;QAChC,CAAC,MAAM;UACLA,cAAc,GAAG,UAAU;QAC7B;QAEAC,YAAY,CAACO,OAAO,CAAC,CAACC,KAAK,EAAEC,CAAC,KAAK;UACjC,MAAMC,OAAO,mBAAAC,MAAA,CAAmBF,CAAC,CAAE;UACnCD,KAAK,CAACI,YAAY,CAAC,IAAI,EAAEF,OAAO,CAAC;UACjCF,KAAK,CAACI,YAAY,CAAC,MAAM,EAAEF,OAAO,CAAC;UACnC,MAAMG,KAAK,GAAGjB,QAAQ,CAACkB,aAAa,CAAC,OAAO,CAAC;UAC7CD,KAAK,CAACE,SAAS,GAAGhB,cAAc;UAChCc,KAAK,CAACD,YAAY,CAAC,KAAK,EAAEF,OAAO,CAAC;UAClCG,KAAK,CAACR,SAAS,CAACW,GAAG,CAAC,iBAAiB,CAAC;UACtCR,KAAK,CAACS,aAAa,CAACC,OAAO,CAACL,KAAK,CAAC;QACpC,CAAC,CAAC;MACJ,CAAC;IAEH;EACF,CAAC;AACH,CAAC,EAAEtB,MAAM,CAAC,C","sources":["webpack://nc_theme/./src/js/chosen-accessibility.js"],"sourcesContent":["/**\n * @file\n * A JavaScript file for the theme.\n * Chosen doesn't add labels to its search inputs, so this script adds them.\n * Uses a setTimeout to wait for the Chosen script to load.\n */\n\n(function (Drupal) {\n  'use strict';\n\n  // To understand behaviors, see https://www.drupal.org/node/2269515\n  Drupal.behaviors.chosen_accessibility = {\n    attach: function (context) {\n\n      // prevents scripts from firing in other contexts such as AJAX requests\n      if (context !== document) {\n        return;\n      }\n\n      setTimeout(() => {\n        addLabelsToChosen();\n      }, 1000);\n\n      /**\n       * Add labels to Chosen search inputs by adding a label, creating an id for the input, and associating the label with the input.\n       */\n      const addLabelsToChosen = () => {\n        let labelInnerText;\n        let chosenInputs = once('chosen-accessibility', document.querySelectorAll('.chosen-search input'), context);\n        let bodyClasses = document.querySelector('body').classList;\n\n        if (bodyClasses.contains('lang-fr')) {\n          labelInnerText = 'Mots-clÃ©s'; // French\n        } else {\n          labelInnerText = 'Keywords';\n        }\n\n        chosenInputs.forEach((input, i) => {\n          const inputID = `chosen-input-${i}`;\n          input.setAttribute('id', inputID);\n          input.setAttribute('name', inputID);\n          const label = document.createElement('label');\n          label.innerText = labelInnerText;\n          label.setAttribute('for', inputID);\n          label.classList.add('visually-hidden');\n          input.parentElement.prepend(label);\n        });\n      }\n\n    },\n  };\n})(Drupal);\n"],"names":["Drupal","behaviors","chosen_accessibility","attach","context","document","setTimeout","addLabelsToChosen","labelInnerText","chosenInputs","once","querySelectorAll","bodyClasses","querySelector","classList","contains","forEach","input","i","inputID","concat","setAttribute","label","createElement","innerText","add","parentElement","prepend"],"sourceRoot":""}