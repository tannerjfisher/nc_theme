{"version":3,"file":"components/alert-banner/alert-banner.js","mappings":";;;;AAAA;AACA;AACA;AACA;AACA,CAAC,UAAUA,MAAM,EAAEC,IAAI,EAAEC,OAAO,EAAE;EAChC,YAAY;;EAEZF,MAAM,CAACG,SAAS,CAACC,WAAW,GAAG;IAC7BC,MAAM,EAAE,SAAAA,CAAUC,OAAO,EAAEC,QAAQ,EAAE;MACnCN,IAAI,CAAC,sBAAsB,EAAE,cAAc,EAAEK,OAAO,CAAC,CAACE,OAAO,CAAC,MAAM;QAClE;QACA,IAAIC,MAAM,GAAGP,OAAO,CAACQ,GAAG,CAAC,cAAc,CAAC;QACxC,IAAIC,eAAe,GAAGF,MAAM,GAAGA,MAAM,CAACG,KAAK,CAAC,GAAG,CAAC,GAAG,EAAE;;QAErD;QACAC,QAAQ,CAACC,gBAAgB,CAAC,eAAe,CAAC,CAACN,OAAO,CAAEO,YAAY,IAAK;UACnE,IAAIC,OAAO,GAAGD,YAAY,CAACE,EAAE;UAE7B,IAAIN,eAAe,CAACO,QAAQ,CAACF,OAAO,CAAC,EAAE;YACrCD,YAAY,CAACI,SAAS,CAACC,GAAG,CAAC,QAAQ,CAAC;YACpCL,YAAY,CAACM,YAAY,CAAC,aAAa,EAAE,MAAM,CAAC;UAClD;QACF,CAAC,CAAC;;QAEF;QACAf,OAAO,CAACQ,gBAAgB,CAAC,UAAU,CAAC,CAACN,OAAO,CAAEc,CAAC,IAAK;UAClDA,CAAC,CAACC,gBAAgB,CAAC,OAAO,EAAE,YAAY;YACtC,IAAI,CAACF,YAAY,CAAC,cAAc,EAAE,MAAM,CAAC;YAEzC,IAAIN,YAAY,GAAG,IAAI,CAACS,OAAO,CAAC,eAAe,CAAC;YAChD,IAAIR,OAAO,GAAGD,YAAY,CAACE,EAAE;;YAE7B;YACAF,YAAY,CAACI,SAAS,CAACC,GAAG,CAAC,QAAQ,CAAC;YACpCL,YAAY,CAACM,YAAY,CAAC,aAAa,EAAE,MAAM,CAAC;;YAEhD;YACA,IAAII,UAAU,GAAG,IAAIC,IAAI,CAAC,CAAC;YAC3BD,UAAU,CAACE,QAAQ,CAACF,UAAU,CAACG,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;YAE9C,IAAIC,cAAc,GAAG3B,OAAO,CAACQ,GAAG,CAAC,cAAc,CAAC;YAChD,IAAIoB,aAAa,GAAGD,cAAc,MAAAE,MAAA,CAAMF,cAAc,OAAAE,MAAA,CAAIf,OAAO,IAAKA,OAAO;YAC7Ed,OAAO,CAAC8B,GAAG,CAAC,cAAc,EAAEF,aAAa,EAAE;cAAEG,OAAO,EAAER;YAAW,CAAC,CAAC;UACrE,CAAC,CAAC;QACJ,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ;EACF,CAAC;AACH,CAAC,EAAEzB,MAAM,EAAEC,IAAI,EAAEiC,MAAM,CAACC,OAAO,CAAC,C","sources":["webpack://nc_theme/./components/alert-banner/alert-banner.mjs"],"sourcesContent":["/**\n * @file\n * Alert banner logic for hiding dismissed alerts based on cookies.\n */\n(function (Drupal, once, cookies) {\n  'use strict';\n\n  Drupal.behaviors.alertBanner = {\n    attach: function (context, settings) {\n      once('alertBannerBehaviour', '.view-alerts', context).forEach(() => {\n        // Get any stored alert IDs from the cookie\n        let alerts = cookies.get('alert-banner');\n        let dismissedAlerts = alerts ? alerts.split(';') : [];\n\n        // Loop through all alert banners and hide only the ones in the cookie\n        document.querySelectorAll('.alert-banner').forEach((alertElement) => {\n          let alertId = alertElement.id;\n\n          if (dismissedAlerts.includes(alertId)) {\n            alertElement.classList.add('hidden');\n            alertElement.setAttribute('aria-hidden', 'true');\n          }\n        });\n\n        // Add click handlers to dismiss alerts and store them in cookies\n        context.querySelectorAll('.dismiss').forEach((e) => {\n          e.addEventListener('click', function () {\n            this.setAttribute('aria-pressed', 'true');\n\n            let alertElement = this.closest('.alert-banner');\n            let alertId = alertElement.id;\n\n            // Hide the alert\n            alertElement.classList.add('hidden');\n            alertElement.setAttribute('aria-hidden', 'true');\n\n            // Set the cookie to expire in one month\n            let expiryDate = new Date();\n            expiryDate.setMonth(expiryDate.getMonth() + 1);\n\n            let existingAlerts = cookies.get('alert-banner');\n            let updatedAlerts = existingAlerts ? `${existingAlerts};${alertId}` : alertId;\n            cookies.set('alert-banner', updatedAlerts, { expires: expiryDate });\n          });\n        });\n      });\n    }\n  };\n})(Drupal, once, window.Cookies);\n"],"names":["Drupal","once","cookies","behaviors","alertBanner","attach","context","settings","forEach","alerts","get","dismissedAlerts","split","document","querySelectorAll","alertElement","alertId","id","includes","classList","add","setAttribute","e","addEventListener","closest","expiryDate","Date","setMonth","getMonth","existingAlerts","updatedAlerts","concat","set","expires","window","Cookies"],"sourceRoot":""}