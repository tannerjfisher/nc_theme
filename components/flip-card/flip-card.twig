{#
/**
 * @file
 * Template for a Card component.
 *
 * Available config:
  * - card_header: (optional) Card header.
  * - card_footer: (optional) Card footer.
  * - card_title: (optional) Card title.
  * - card_subtitle: (optional) Card subtitle.
  * - card_body: (optional) Card body (text).
  * - card_media: (optional) Card media, instead of using card_image_*.
  * - card_link_url: (optional) Card link URL.
  * - card_link_text: (optional) Card link text.
  * - card_image_src: (optional) Card image source.
  * - card_image_alt: (optional) Card image alt text.
  * - card_image_cap: (optional) Card image caption.
  * - card_image_overlays: (optional) Card image overlays.
  * - card_horizontal: (optional) Card columns boolean.
  * - card_body_tag: (optional) Card body tag.
  * - card_title_tag: (optional) Card title tag.
  * - card_subtitle_tag: (optional) Card subtitle tag.
  * - card_text_tag: (optional) Card text tag.
  * - card_border: (optional) Card border.
  * - card_utility_classes: (optional) Any additional classes to add to the card.
  * - card_row_utility_classes: (optional) Any additional classes to add to the card.
  * - card_media_column_utility_classes: (optional) Configures media column widths.
  * - card_content_column_utility_classes: (optional) Configures content column widths.
  * - card_title_prefix: (optional) Corresponds to title_prefix in entity templates.
  * - card_title_suffix: (optional) Corresponds to title_suffix in entity templates.
 */
#}

{%
  include 'nc_theme:card' with {
    card_title_tag,
    card_title,
    card_title_prefix,
    card_title_suffix,
    card_horizontal: true,
    card_border,
    card_media,
    card_body,
    card_utility_classes: card_utility_classes|merge([
      'flip-card',
      card_border ? 'overflow-hidden'
    ]),
    card_row_utility_classes: ['g-0'],
    card_media_column_utility_classes: [
      'col-12',
      media_width == "50%" ? 'col-lg-6' : 'col-lg-4',
      media_position == "Right side of text" ? 'order-lg-2'
    ],
    card_content_column_utility_classes: [
      'col-12',
      media_width == "50%" ? 'col-lg-6' : 'col-lg-8',
      not card_border ? 'd-flex align-items-center',
    ],
    card_title_utility_classes: ['mt-0 mb-3 h3'],
    card_body_utility_classes: [
      media_position == "Right side of text" and card_border is empty and stretched_link is empty ? 'ps-0' : ''
    ],
    card_link_url: primary_link.0['#url_title'] ?: '',
    card_link_text: primary_link.0['#title'] ?: '',
    card_link_aria_label: primary_link.0['#url'].options.attributes['aria-label'] ?: '',
    card_link_utility_classes: [
      primary_link.0['#title'] ? 'btn-primary mt-5' : 'no-text no-external-icon',
      secondary_link.0['#url_title'] ? 'me-4',
      stretched_link ? 'stretched-link',
    ],
    card_link_secondary_url: secondary_link.0['#url_title'] ?: '',
    card_link_secondary_text: secondary_link.0['#title'] ?: '',
    card_link_secondary_aria_label: secondary_link.0['#url'].options.attributes['aria-label'] ?: '',
    card_link_secondary_utility_classes: [
      secondary_link.0['#url_title'] ? 'btn-secondary mt-5 ms-0'
    ],
  }
%}
